<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="IE=edge" http-equiv="X-UA-Compatible" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Allen Fraiman</title>
    <link href="style.css" rel="stylesheet" />
    <link href="/images/icon.png" rel="icon" type="image/x-icon" />
    <script crossorigin="anonymous" src="https://kit.fontawesome.com/c5f8c9829d.js"></script>
</head>

<body>
    <div id="headerproj">
        <div class="container">
            <nav>
                <img class="logo" src="images/logo.png" />
                <ul id="sidemenu">
                    <li><a href="index.html">HOME</a></li>
                    <i class="fas fa-times" onclick="closemenu()"></i>
                </ul>
                <i class="fas fa-bars" onclick="openmenu()"></i>
            </nav>
        </div>
    </div>

    <div id="materials">
        <div class="container">
            <div class="row" style="align-items: flex-start; gap: 40px;">
                <div style="flex: 1;">
                    <h1 class="sub-title-1">Automatic Pizza Cutter</h1>
                    <p>ME360 Final Project. This system has 2.5 degrees of freedom employing stepper motors and an
                        extruder to cut a pizza into 8 equal slices!</p>
                    <br><br>
                    <h3 style="color: #fff; font-size: 18px; margin-bottom: 8px;">Skills Used</h3>
                    <div class="skill-tag-container">
                        <span class="skill-tag">CAD</span>
                        <span class="skill-tag">Stepper Motor Control via G-code</span>
                        <span class="skill-tag">3D Printing</span>
                        <span class="skill-tag">Prototyping</span>
                        <span class="skill-tag">Arduino</span>
                    </div>
                </div>
                <div style="flex: 1; display: flex; flex-direction: column; gap: 20px;">
                    <div class="slideshow-container" id="media-slideshow">
                        <div class="slide"><img alt="Pizza Cutter" src="images/pizza.JPG" /></div>
                        <div class="slide"><img alt="CAD Design" src="images/pizzacad.png" /></div>
                        <div class="slide"><video controls="true" src="videos/PizzaDemo.mp4"></video></div>
                        <div class="slide-controls">
                            <button onclick="changeSlide(-1)">❮</button>
                            <button onclick="changeSlide(1)">❯</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        var sidemenu = document.getElementById("sidemenu");

        function openmenu() {
            sidemenu.style.right = "0";
        }

        function closemenu() {
            sidemenu.style.right = "-250px";
        }
    </script>

    <script>
        let slideIndex = 0;
        let slides = document.querySelectorAll(".slide");
        let slideInterval;

        function showSlide(n) {
            slideIndex = (n + slides.length) % slides.length;
            slides.forEach((slide, idx) => {
                slide.style.display = idx === slideIndex ? "block" : "none";
            });
        }

        function changeSlide(n) {
            showSlide(slideIndex + n);
            resetInterval();
        }

        function resetInterval() {
            clearInterval(slideInterval);
            startSlideShow();
        }

        function startSlideShow() {
            slideInterval = setInterval(() => {
                const currentSlide = slides[slideIndex];
                const video = currentSlide.querySelector("video");
                if (!video || video.paused || video.ended) {
                    changeSlide(1);
                }
            }, 15000);
        }

        document.addEventListener("DOMContentLoaded", () => {
            showSlide(slideIndex);
            startSlideShow();
        });
    </script>
</body>

</html>